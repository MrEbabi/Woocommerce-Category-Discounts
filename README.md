Kindly check the "dynamic pricing" and "cart customization" codes.

Dynamic pricing code help you to make different discounts based on categories, you will not need any plugins.

Cart customization code which is a helper function for showing Dynamic prices without any trouble in your cart/checkout.

Comments inside the code will help you to understand better.

Add those codes to functions.php file of your theme. Please be aware that if you are not using a child theme, after every update
your customizations in your theme files will be deleted.
